exports.id=562,exports.ids=[562],exports.modules={61416:(e,r,t)=>{Promise.resolve().then(t.bind(t,2802))},37859:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},56381:()=>{},2802:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(10326),a=t(33136);function i({children:e}){return s.jsx(a.H,{children:e})}},11115:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d});var s=t(10326),a=t(17577),i=t(90434),n=t(35047),o=t(33136),l=t(8878);function d({children:e}){let r=(0,n.usePathname)(),t=(0,n.useRouter)(),{user:d}=(0,o.a)(),[c,h]=(0,a.useState)(!1),u=async()=>{try{await (0,l.w7)(),t.push("/admin/login")}catch(e){console.error("Sign out error:",e)}},m=[{name:"ダッシュボード",href:"/admin",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{name:"記事管理",href:"/admin/articles",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),subItems:[{name:"記事一覧",href:"/admin/articles"},{name:"新規記事",href:"/admin/articles/new"}]},{name:"カテゴリー管理",href:"/admin/categories",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})},{name:"タグ管理",href:"/admin/tags",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}];return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[s.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white shadow-sm z-50",children:(0,s.jsxs)("div",{className:"flex justify-between items-center px-4 py-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("button",{onClick:()=>h(!c),className:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 lg:hidden",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),s.jsx(i.default,{href:"/admin",className:"ml-2 lg:ml-0 text-xl font-bold text-blue-600",children:"ふらっと。管理画面"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"hidden sm:block text-sm text-gray-600",children:d?.email}),s.jsx("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700",children:"ログアウト"})]})]})}),s.jsx("aside",{className:`
        fixed top-[57px] left-0 bottom-0 w-64 bg-white shadow-lg transform transition-transform duration-200 ease-in-out z-40
        ${c?"translate-x-0":"-translate-x-full"}
        lg:translate-x-0
      `,children:s.jsx("nav",{className:"h-full overflow-y-auto py-4",children:m.map(e=>{let t=r===e.href||r.startsWith(e.href+"/");return(0,s.jsxs)("div",{children:[(0,s.jsxs)(i.default,{href:e.href,onClick:()=>h(!1),className:`
                    flex items-center px-4 py-3 text-sm font-medium transition-colors
                    ${t?"bg-blue-50 text-blue-700 border-l-4 border-blue-700":"text-gray-700 hover:bg-gray-50 border-l-4 border-transparent"}
                  `,children:[s.jsx("span",{className:"mr-3",children:e.icon}),e.name]}),e.subItems&&t&&s.jsx("div",{className:"bg-gray-50",children:e.subItems.map(e=>s.jsx(i.default,{href:e.href,onClick:()=>h(!1),className:`
                          flex items-center px-4 py-2 pl-14 text-sm transition-colors
                          ${r===e.href?"text-blue-700 font-medium":"text-gray-600 hover:text-gray-900"}
                        `,children:e.name},e.href))})]},e.name)})})}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>h(!1)}),s.jsx("main",{className:"pt-[57px] lg:ml-64 min-h-screen",children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:e})})]})}},84196:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var s=t(10326);t(17577);var a=t(35047),i=t(33136);function n({children:e}){let{user:r,loading:t}=(0,i.a)();return((0,a.useRouter)(),t)?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"読み込み中..."})]})}):r?s.jsx(s.Fragment,{children:e}):null}},33136:(e,r,t)=>{"use strict";t.d(r,{H:()=>l,a:()=>o});var s=t(10326),a=t(17577),i=t(8878);let n=(0,a.createContext)({user:null,loading:!0}),o=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},l=({children:e})=>{let[r,t]=(0,a.useState)(null),[o,l]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=(0,i.yv)(e=>{t(e),l(!1)});return()=>e()},[]),s.jsx(n.Provider,{value:{user:r,loading:o},children:e})}},70718:(e,r,t)=>{"use strict";t.d(r,{Xc:()=>n,jX:()=>o,tu:()=>i,zC:()=>l});var s=t(76),a=t(72824);let i=async e=>{if(!a.db)throw Error("Firestore is not initialized");try{let r=s.EK.now();return(await (0,s.ET)((0,s.hJ)(a.db,"articles"),{...e,publishedAt:r,updatedAt:r,viewCount:0,likeCount:0})).id}catch(e){throw console.error("Error creating article:",e),e}},n=async(e,r)=>{if(!a.db)throw Error("Firestore is not initialized");try{let t=(0,s.JU)(a.db,"articles",e);await (0,s.r7)(t,{...r,updatedAt:(0,s.Bt)()})}catch(e){throw console.error("Error updating article:",e),e}},o=async e=>{if(!a.db)throw Error("Firestore is not initialized");try{let r=(0,s.JU)(a.db,"articles",e);await (0,s.oe)(r)}catch(e){throw console.error("Error deleting article:",e),e}},l=async()=>{if(!a.db)throw Error("Firestore is not initialized");try{let e=(0,s.hJ)(a.db,"articles"),r=(0,s.IO)(e,(0,s.Xo)("updatedAt","desc"));return(await (0,s.PL)(r)).docs.map(e=>{let r=e.data();return{id:e.id,...r,publishedAt:r.publishedAt?.toDate()||new Date,updatedAt:r.updatedAt?.toDate()||new Date}})}catch(e){throw console.error("Error getting all articles:",e),e}}},8878:(e,r,t)=>{"use strict";t.d(r,{w7:()=>n,yv:()=>o,zB:()=>i});var s=t(46791),a=t(72824);let i=async(e,r)=>{if(!a.I8)throw Error("Firebase Auth is not initialized");try{return(await (0,s.e5)(a.I8,e,r)).user}catch(e){throw console.error("Sign in error:",e),e}},n=async()=>{if(!a.I8)throw Error("Firebase Auth is not initialized");try{await (0,s.w7)(a.I8)}catch(e){throw console.error("Sign out error:",e),e}},o=e=>a.I8?(0,s.Aj)(a.I8,e):(console.warn("Firebase Auth is not initialized"),()=>{})},72824:(e,r,t)=>{"use strict";let s,a,i;t.d(r,{I8:()=>i,db:()=>s,tO:()=>a}),t(42585),t(76),t(11552),t(46791)},90434:(e,r,t)=>{"use strict";t.d(r,{default:()=>a.a});var s=t(79404),a=t.n(s)},35047:(e,r,t)=>{"use strict";var s=t(77389);t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},90596:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`/Users/moncson/Downloads/ayumi/app/admin/layout.tsx#default`)},11506:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o,metadata:()=>n});var s=t(19510),a=t(85384),i=t.n(a);t(67272);let n={title:"ふらっと。 | Ayumi Media",description:"バリアフリー情報メディア"};function o({children:e}){return s.jsx("html",{lang:"ja",children:s.jsx("body",{className:i().className,children:e})})}},67272:()=>{}};